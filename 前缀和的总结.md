# 前缀和
第一次听到这个概念，以为是什么数据结构，但是其实就是数列前n项和的应用。
前缀和是一种重要的预处理，能大大降低查询的时间复杂度，用空间来换时间。

### 定义
前缀和可以简单的理解成数组的前n项和，我们将前n项和组成的数组称为前缀和数组。

### 前缀和公式
求解前缀和数组的思想其实就是动态规划的思想，前n项和的求解是具有最优子结构以及重叠子问题的，因此它本质就是一个DP思想，利用DP思想可以推导并计算高维的前缀和。

* 分析
数组的前n项和只与前n-1项和以及当前元素相关，与之后元素无关，这就是自底向上的DP。而数组可以有一维数组，二维数组甚至是多维数组，这些数组的前缀和数组就可以用DP的思想来求。

* 一维前缀和
DP[i] = DP[i-1] + a[i]
即最基本的数列前n项和公式。

* 二维前缀和
DP[i][j]=DP[i-1][j]+DP[i][j-1]+ａ[i][j]-DP[i-1][j-1]
可以画图来理解，在二维数组中求前n项和，将二维数组视为一个矩形，我们要求的是矩形的面积，已知前n-1项的所有面积（前缀和），求第n项的面积，即DP[i][j]。
DP[i-1][j]与DP[i][j-1]分别是两个矩形的面积，加上当前的值ａ[i][j]，这个适合我们可以发现，那两个矩形的面积有一块重叠，我们减去这个重叠的面积DP[i-1][j-1]即可得到当前的面积，即DP[i][j]，也即二维前缀和。

* 高维前缀和
高维前缀和递推参考：[基于 DP 计算高维前缀和](https://oi-wiki.org/basic/prefix-sum/#dp)
估计应用到高维的只有ACMer了吧

### 推广
与前缀和相对应的还有一种思想叫做差分，这是一种与前缀和相对的策略（暂时不去了解了）。

### 应用
前缀和可以应用到一些数组内的题目中，在树形结构中也经常应用，一般称为前缀树。

### 参考资料
前缀和以及差分的模板可以参考以下两个网站：

[OI Wiki](https://oi-wiki.org/basic/prefix-sum/#dp)

[AcWing](https://www.acwing.com/blog/content/277/)
  
